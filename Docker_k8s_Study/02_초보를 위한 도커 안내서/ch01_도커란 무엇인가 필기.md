---
작성일 : 2020-09-13
---

[TOC]

---

## 서버를 관리한다는 것 

> 도커 : 컨테이너 기반의 오픈소스 가상화 플랫폼



### 복잡한 서버 관리

- 설치 환경에 따라 서버 관리가 달라짐
- 서버 환경이 계속해서 바뀜
- 개발 환경이 계속해서 바뀜



## 도커 컨테이너 생성 데모

> 스킵



## 서버관리 방식의 변화

### 전통적인 서버관리 방식

![image-20200913210318319](img/ch01_%EB%8F%84%EC%BB%A4%EB%9E%80%20%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%20%ED%95%84%EA%B8%B0/image-20200913210318319.png)

> 이전엔 서버 관리자가 한땀한땀



### 도커를 활용한 서버관리 방식

![image-20200913210402139](img/ch01_%EB%8F%84%EC%BB%A4%EB%9E%80%20%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%20%ED%95%84%EA%B8%B0/image-20200913210402139.png)

>  AWS, azure 등 클라우드에서도 모두 가능하다



### 가상머신과 다른점

- 가상머신처럼 **독립적**으로 실행
- 가상머신보다 **빠름**
- 가상머신보다 **쉬움**
- 가상머신보다 **효율적**



## :whale2:도커의 등장

1. 서버 관리가 어려움
2. 서버의 상태를 관리하기 위해 노력
   - 서버 배포 및 설치 **문서**를 작성 (문서의 정확성, 다른 OS, 문서 업데이트 등 문제)
   - (chef, ansible 등) 상태관리 도구 사용 (코드화된 명령어로 작동) (러닝 커브, 다른 버전 등 문제)
   - 가상머신을 활용 (처음부터 다시 셋팅 어려움, 서버 이미지 공유, 느림 등 문제)
   - 자원격리 - 프로세스, 파일, 디렉토리를 가상으로 분리, 성능 제한 (너무 어려운 문제)
3. 이러한 문제를 해결해주는 도커 2013년 ㄷㄷㄷㅈ



## 도커란

### VM vs Docker

![image-20200913213014476](img/ch01_%EB%8F%84%EC%BB%A4%EB%9E%80%20%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%20%ED%95%84%EA%B8%B0/image-20200913213014476.png)



### 도커의 특징

- 도커가 설치되어있다면 어디서든 컨테이너 실행
- 오픈소스임
- 개발서버 및 테스트 서버 쉽게 생성
- 표준성
  - 도커 사용안했으면 배포방식이 제각각 다름
  - 컨테이너라는 표준으로 서버 배포하여 서비스들의 배포과정이 동일해짐
- 이미지
  - 이미지 만드는 과정이 필요
  - Dockerfile을 이용해 이미지 생성 처음부터 재현 가능
- 설정관리
  - 설정을 환경변수로 제어함
  - 하나의 이미지가 환경변수에 따라 동적으로 설정가능
- 자원관리
  - 컨테이너 삭제 시 모든 데이터 초기화됨
  - 업로드 파일 등 데이터는 따로 둬야함



### 도커가 가져온 변화

- 이미지 관리 쉬움
- 프로세스 격리되어 사용하지만 성능저하 거의 없음
- 복잡한 기술 몰라도 됨
- 이미지 빌드 기록이 남음
- 코드와 설정으로 관리 > 재현 수정 가능
- 오픈소스임





## 도커의 미래 :alarm_clock:

### 쿠버네티스

> 서버관리의 떠오르는 별

- 여러대의 서버와 여러개의 서비스를 관리할 수 있도록

#### 스케줄링

- 컨테이너를 적당한 서버에 배포
- 할일 없는 서버에 배포하거나 하는 등

#### 클러스터링

- 여러 개의 서버를 하나의 서버처럼 사용
- 흩어져있는 컨테이너도 가상 네트워크를 이용해 마치 같은 서버있는 것처럼 통신

#### 서비스 디스커버리

- 서비스를 찾아주는 기능
- 컨테이너가 어느 서버에 생성될지 이동할지 모르는데 이를 찾아줌 (docker container이름 기반으로)





